"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const inquiry_controller_1 = require("../controllers/inquiry_controller");
const authorized_1 = require("../middlewares/authorized");
const users_1 = require("../models/users");
const router = (0, express_1.Router)();
const inquiryController = new inquiry_controller_1.InquiryController();
router.use(authorized_1.authenticateUser);
router.get("/", (0, authorized_1.authorize)(users_1.UserRole.SALES, users_1.UserRole.PURCHASING), inquiryController.getAllInquiries.bind(inquiryController));
router.get("/:id", (0, authorized_1.authorize)(users_1.UserRole.SALES, users_1.UserRole.PURCHASING), inquiryController.getInquiryById.bind(inquiryController));
router.post("/", (0, authorized_1.authorize)(users_1.UserRole.SALES, users_1.UserRole.PURCHASING), inquiryController.createInquiry.bind(inquiryController));
router.put("/:id", (0, authorized_1.authorize)(users_1.UserRole.SALES, users_1.UserRole.PURCHASING), inquiryController.updateInquiry.bind(inquiryController));
router.delete("/:id", (0, authorized_1.authorize)(users_1.UserRole.SALES, users_1.UserRole.PURCHASING), inquiryController.deleteInquiry.bind(inquiryController));
router.post("/:id/convert-to-item", (0, authorized_1.authorize)(users_1.UserRole.SALES, users_1.UserRole.PURCHASING), inquiryController.convertInquiryToItem.bind(inquiryController));
router.post("/:id/requests/:requestId/convert-to-item", (0, authorized_1.authorize)(users_1.UserRole.SALES, users_1.UserRole.PURCHASING), inquiryController.convertRequestToItem.bind(inquiryController));
router.get("/customer/:customerId", (0, authorized_1.authorize)(users_1.UserRole.SALES), inquiryController.getInquiriesByCustomer.bind(inquiryController));
router.post("/:id/requests", (0, authorized_1.authorize)(users_1.UserRole.SALES, users_1.UserRole.PURCHASING), inquiryController.addRequestToInquiry.bind(inquiryController));
router.put("/:id/requests/:requestId", (0, authorized_1.authorize)(users_1.UserRole.SALES, users_1.UserRole.PURCHASING), inquiryController.updateRequestInInquiry.bind(inquiryController));
router.delete("/:id/requests/:requestId", (0, authorized_1.authorize)(users_1.UserRole.SALES, users_1.UserRole.PURCHASING), inquiryController.removeRequestFromInquiry.bind(inquiryController));
exports.default = router;
